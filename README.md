# 天赋人权

多功能群管理插件，适用于 HoshinoBot v2. 

项目地址 [https://github.com/Cosmos01/natural_right](https://github.com/Cosmos01/natural_right)

> [!CAUTION]
> 有伤天和，谨慎配置


## 简介

整合了平时写的管理员权限零散小插件搞出来的 

根据开关和配置可以实现~~伪~~民主、网络皇帝、种姓制度等等，也可以轻度使用进行一些管理辅助 

还有一些功能有空了再写

<img width="179" height="173" alt="image" src="https://github.com/user-attachments/assets/25a3b1e4-7de4-4dcf-aca0-3c8015065978" />


## 安装

1. 在HoshinoBot的插件目录modules下clone本项目 `git clone https://github.com/Cosmos01/natural_right.git`
2. 在 `config/__bot__.py`的MODULES_ON列表里加入 `natural_right`
3. 复制`config_example.ini`改名`config.ini`并修改配置(没配也会自动生成) **注意谨慎配置**
4. 重启HoshinoBot
   
> [!WARNING]
> **确认Bot在群内有管理员权限** (没权限操作多了也许会被tx风控？)    

根据需要在群内发送指令开启功能
- `启用 天赋人权`
- `启用 德谟克拉西`
- `启用 群宵禁`
- `启用 击鼓传花`



## 功能


### 天赋人权

基础模块，单独启用只有圣盾术功能，被禁言会触发。其余功能在其他模块发挥作用 

<details>
<summary>玩法</summary>
  
  圣盾术作用可以配置，包括每层可以抵消禁言时长、同时生效多层等  
  可以充值巨量圣盾术来使某人实质上变成无敌状态  
  群地位目前限制1-3，0和4开发中，预计0为电子镣铐，4为风纪委员(半管理)  
  权限标签目前较少，有空再加  
</details>

**指令列表**  
`查询圣盾术 [@user1@user2...]`：获取对象圣盾术层数，默认为发送者  
`充值圣盾术 [数量] [@user1@user2...]`：数量默认1，可以为负数，对象默认为发送者  
`权限标签 [添加/删除 标签名[:标签值] @user1@user2...]`：为空返回标签列表。更多功能开发中…  
`群友连结 [解除] @user1@user2...`：~~连坐~~连结多个对象，投票禁言会一起被禁，可配置模式和比例  
`群地位 +1/-1 [@user1@user2...]`：修改群~~阶层~~地位  

------
### 德谟克拉西

投票禁言，根据关键词分为普通(~~娱乐~~)模式和严重违规模式

<details>
<summary>玩法</summary>
  
  可以独立配置惩罚力度，累计票数也会影响禁言时长  
  地位差2时无法投票，可以配置群地位投票/被投票时候的票数增加量  
  可以控制群地位拥有的投票权、投票发起权 ~~罗马正统~~   
  严重违规模式下会记录累犯次数并影响惩罚力度(长期不触发会减轻)  
  禁言会覆盖原禁言时长，有时候可能还能用于解除禁言  
</details>

**指令列表**  
`举报@对象[关键词]`：投票禁言  
`投反对票@对象`：消掉一票  
`查询举报关键词`：获取支持的举报关键词，投票中加上关键词会计入严重违规  

------
### 群宵禁

宵禁，另外还有屏蔽词(~~文字狱~~)功能，可以单独开关，有多种宵禁模式可以选择。 


<details>
<summary>玩法</summary>
  
  可配置可发送的消息类型，实现禁止发送图片、视频等能力  
  不同群的限制消息类型是独立的，不过没加指令，可以手动去data.json里头改  
  可配置一定群地位不受宵禁管控  
  ~~文字狱~~屏蔽词功能可以单独开启，遇到屏蔽词会撤回，可以配置是否禁言  
  屏蔽词功能可以添加qq的限时弹窗关键词或一些刷屏的东西  
</details>

**指令列表**  
`宵禁名单 [添加/删除 @user1@user2...]`：宵禁类型1、2的名单  
`开始/结束群宵禁`：调试或特殊情况情况下可以用这个开关  
`群屏蔽词 on/开启/off/关闭`：~~文字狱~~ 功能开关  
`群屏蔽词 添加/删除/清空 [屏蔽词]`：增删屏蔽词  
`群宵禁 参数名 参数值`：宵禁配置，见下表

| 参数名           | 参数值            | 备注                                                         |
| ---------------- | ----------------- | ------------------------------------------------------------ |
| 开启/on/关闭/off | 无                | 群内开关                                                     |
| 类型             | 0-5               | 0: 全群禁言，1: 禁言部分成员，2: 禁止发送特定类型消息(部分成员)，3: 禁止发送特定类型消息，4: 禁止发送包含特定关键词的消息 |
| 时间             | 开始小时,结束小时 | 开始和结束的时间，两个0-23的数字，逗号分隔                   |
| 字数限制         | 字数              | 类型2或3时限制单条消息字数，0表示不启用                      |
| 转发             | 转发目标群号/0    | 2,3,4模式下撤回的消息可以合并转发到本群或其他群，0表示不启用 |
| 违规警告         | 开启/on/关闭/off  | on                                                           |


------
### 击鼓传花

小游戏，可以赚圣盾术，有普通模式和大逃杀模式可选。

<details>
<summary>玩法</summary>
  
  普通模式下炸了就结束，奖励给击杀者，大逃杀则是炸到最后一人  
  可以配置随机因素杀捏雷大神，也可以控制奖励概率和数量  
</details>


**指令列表**  
`开始传炸弹`: 开始游戏   
`开始传炸弹大逃杀模式`: 开始大逃杀游戏  
`传炸弹`: 传递炸弹或加入游戏，加入时随机插入位置并强制传递  
`回传炸弹`: 向前传递炸弹，若上回合为加入游戏则传给加入者  
`放弃传炸弹`: 投降  
`我直接爆了`: 持有者引爆炸弹    


## 注意
1. 千万不要过度使用，多听取群友意见，谨慎配置，群散了别来找我
2. 有什么好玩的想法或建议可以提，等我不在田里干活的时候处理
3. 



